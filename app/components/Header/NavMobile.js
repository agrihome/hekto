"use client";

import { useEffect, useRef } from "react";
import "./NavMobile.scss";
import Link from "next/link";

export default function NavMobile() {
  const sideBar = useRef();
  const backDrop = useRef();

  function handleBackDropClick() {
    const sidebarEl = sideBar.current;
    sidebarEl.style.transform = "translateX(-300px)";
    setTimeout(() => {
      backDrop.current.style.display = "none";
    }, 300);
  }

  function handleBarClick() {
    const sidebarEl = sideBar.current;
    backDrop.current.style.display = "block";
    sidebarEl.style.transform = "translateX(-300px)";

    setTimeout(() => {
      sidebarEl.style.transform = "translateX(0px)";
    }, 10);
  }

  return (
    <div className="mobNavContainer">
      <nav className="navMobile">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          strokeWidth={1.5}
          stroke="currentColor"
          className="bar"
          onClick={handleBarClick}
        >
          <path
            strokeLinecap="round"
            strokeLinejoin="round"
            d="M3.75 9h16.5m-16.5 6.75h16.5"
          />
        </svg>

        <svg
          className="logo"
          width="94"
          height="28"
          viewBox="0 0 94 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M21.046 1.802V26.826H16.116V16.66H4.93V26.826H0V1.802H4.93V11.9H16.116V1.802H21.046Z"
            fill="#0D0E43"
          />
          <path
            d="M34.0202 27.234C32.2069 27.234 30.6655 26.894 29.3962 26.214C28.1495 25.534 27.1975 24.5933 26.5402 23.392C25.8829 22.1907 25.5542 20.808 25.5542 19.244C25.5542 17.748 25.9395 16.3993 26.7102 15.198C27.4809 13.9967 28.5122 13.0447 29.8042 12.342C31.0962 11.6167 32.5355 11.254 34.1222 11.254C36.2529 11.254 37.9982 11.8773 39.3582 13.124C40.7409 14.348 41.6362 16.1273 42.0442 18.462L30.4842 22.134L29.4302 19.55L37.7942 16.728L36.8082 17.17C36.6269 16.5807 36.2982 16.0707 35.8222 15.64C35.3689 15.1867 34.6775 14.96 33.7482 14.96C33.0455 14.96 32.4222 15.13 31.8782 15.47C31.3569 15.7873 30.9489 16.252 30.6542 16.864C30.3822 17.4533 30.2462 18.156 30.2462 18.972C30.2462 19.9013 30.4162 20.6833 30.7562 21.318C31.0962 21.93 31.5609 22.3947 32.1502 22.712C32.7395 23.0293 33.3969 23.188 34.1222 23.188C34.6435 23.188 35.1422 23.0973 35.6182 22.916C36.1169 22.7347 36.6042 22.4967 37.0802 22.202L39.1882 25.738C38.3949 26.1913 37.5335 26.554 36.6042 26.826C35.6975 27.098 34.8362 27.234 34.0202 27.234Z"
            fill="#0D0E43"
          />
          <path
            d="M45.5032 26.826V0H50.2632V26.826H45.5032ZM54.0372 16.728L60.7692 26.826H55.2272L50.9092 19.448L54.0372 16.728ZM48.8352 22.712L48.3592 18.19L57.3352 11.594L60.2252 14.144L48.8352 22.712Z"
            fill="#0D0E43"
          />
          <path
            d="M65.4577 5.44H70.2177V11.9H73.8217V15.606H70.2177V26.826H65.4577V15.606H63.1457V11.9H65.4577V5.44Z"
            fill="#0D0E43"
          />
          <path
            d="M76.2886 19.21C76.2886 17.6913 76.6399 16.3313 77.3426 15.13C78.0679 13.9287 79.0766 12.988 80.3686 12.308C81.6606 11.6053 83.1452 11.254 84.8226 11.254C86.5226 11.254 87.9959 11.6053 89.2426 12.308C90.4892 12.988 91.4412 13.9287 92.0986 15.13C92.7786 16.3313 93.1186 17.6913 93.1186 19.21C93.1186 20.7287 92.7786 22.1 92.0986 23.324C91.4412 24.5253 90.4892 25.4773 89.2426 26.18C87.9959 26.8827 86.4999 27.234 84.7546 27.234C83.1226 27.234 81.6606 26.9167 80.3686 26.282C79.0992 25.6473 78.1019 24.7293 77.3766 23.528C76.6512 22.3267 76.2886 20.8873 76.2886 19.21ZM81.0826 19.244C81.0826 20.0147 81.2412 20.7173 81.5586 21.352C81.8759 21.964 82.3066 22.4513 82.8506 22.814C83.3946 23.1767 84.0066 23.358 84.6866 23.358C85.4346 23.358 86.0806 23.1767 86.6246 22.814C87.1686 22.4513 87.5879 21.964 87.8826 21.352C88.1772 20.7173 88.3246 20.0147 88.3246 19.244C88.3246 18.4507 88.1772 17.748 87.8826 17.136C87.5879 16.524 87.1686 16.0367 86.6246 15.674C86.0806 15.3113 85.4346 15.13 84.6866 15.13C84.0066 15.13 83.3946 15.3113 82.8506 15.674C82.3066 16.0367 81.8759 16.524 81.5586 17.136C81.2412 17.748 81.0826 18.4507 81.0826 19.244Z"
            fill="#0D0E43"
          />
        </svg>

        <div className="search">
          <input type="text" placeholder="Search" />
          <svg
            width="52"
            height="36"
            viewBox="0 0 52 36"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="52" height="36" rx="6" fill="#FB2E86" />
            <path
              d="M35.7192 26.3139L32.0114 22.6333C33.4506 20.8374 34.1476 18.5579 33.959 16.2636C33.7705 13.9692 32.7106 11.8343 30.9975 10.2979C29.2844 8.76153 27.0481 7.9404 24.7486 8.00337C22.4491 8.06634 20.2611 9.00863 18.6345 10.6365C17.0079 12.2643 16.0663 14.454 16.0034 16.7553C15.9404 19.0565 16.761 21.2945 18.2962 23.0089C19.8314 24.7233 21.9647 25.784 24.2573 25.9727C26.5499 26.1614 28.8277 25.4639 30.6222 24.0235L34.3 27.7042C34.3929 27.7979 34.5035 27.8723 34.6253 27.9231C34.747 27.9739 34.8777 28 35.0096 28C35.1415 28 35.2722 27.9739 35.3939 27.9231C35.5157 27.8723 35.6263 27.7979 35.7192 27.7042C35.8993 27.5177 36 27.2684 36 27.009C36 26.7497 35.8993 26.5004 35.7192 26.3139ZM25.0155 24.0235C23.6319 24.0235 22.2793 23.6129 21.1289 22.8436C19.9784 22.0743 19.0817 20.9809 18.5522 19.7016C18.0227 18.4223 17.8842 17.0146 18.1541 15.6565C18.4241 14.2984 19.0903 13.051 20.0687 12.0718C21.0471 11.0927 22.2937 10.4259 23.6507 10.1558C25.0078 9.88562 26.4144 10.0243 27.6927 10.5542C28.9711 11.0841 30.0637 11.9814 30.8324 13.1328C31.6011 14.2841 32.0114 15.6377 32.0114 17.0224C32.0114 18.8792 31.2743 20.66 29.9623 21.973C28.6504 23.2859 26.871 24.0235 25.0155 24.0235Z"
              fill="white"
            />
          </svg>
        </div>
      </nav>

      <div className="backdrop" ref={backDrop} onClick={handleBackDropClick}>
        <aside className="sidebar" ref={sideBar}>
          <div>
            <svg
              className="logo"
              width="94"
              height="28"
              viewBox="0 0 94 28"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M21.046 1.802V26.826H16.116V16.66H4.93V26.826H0V1.802H4.93V11.9H16.116V1.802H21.046Z"
                fill="#0D0E43"
              />
              <path
                d="M34.0202 27.234C32.2069 27.234 30.6655 26.894 29.3962 26.214C28.1495 25.534 27.1975 24.5933 26.5402 23.392C25.8829 22.1907 25.5542 20.808 25.5542 19.244C25.5542 17.748 25.9395 16.3993 26.7102 15.198C27.4809 13.9967 28.5122 13.0447 29.8042 12.342C31.0962 11.6167 32.5355 11.254 34.1222 11.254C36.2529 11.254 37.9982 11.8773 39.3582 13.124C40.7409 14.348 41.6362 16.1273 42.0442 18.462L30.4842 22.134L29.4302 19.55L37.7942 16.728L36.8082 17.17C36.6269 16.5807 36.2982 16.0707 35.8222 15.64C35.3689 15.1867 34.6775 14.96 33.7482 14.96C33.0455 14.96 32.4222 15.13 31.8782 15.47C31.3569 15.7873 30.9489 16.252 30.6542 16.864C30.3822 17.4533 30.2462 18.156 30.2462 18.972C30.2462 19.9013 30.4162 20.6833 30.7562 21.318C31.0962 21.93 31.5609 22.3947 32.1502 22.712C32.7395 23.0293 33.3969 23.188 34.1222 23.188C34.6435 23.188 35.1422 23.0973 35.6182 22.916C36.1169 22.7347 36.6042 22.4967 37.0802 22.202L39.1882 25.738C38.3949 26.1913 37.5335 26.554 36.6042 26.826C35.6975 27.098 34.8362 27.234 34.0202 27.234Z"
                fill="#0D0E43"
              />
              <path
                d="M45.5032 26.826V0H50.2632V26.826H45.5032ZM54.0372 16.728L60.7692 26.826H55.2272L50.9092 19.448L54.0372 16.728ZM48.8352 22.712L48.3592 18.19L57.3352 11.594L60.2252 14.144L48.8352 22.712Z"
                fill="#0D0E43"
              />
              <path
                d="M65.4577 5.44H70.2177V11.9H73.8217V15.606H70.2177V26.826H65.4577V15.606H63.1457V11.9H65.4577V5.44Z"
                fill="#0D0E43"
              />
              <path
                d="M76.2886 19.21C76.2886 17.6913 76.6399 16.3313 77.3426 15.13C78.0679 13.9287 79.0766 12.988 80.3686 12.308C81.6606 11.6053 83.1452 11.254 84.8226 11.254C86.5226 11.254 87.9959 11.6053 89.2426 12.308C90.4892 12.988 91.4412 13.9287 92.0986 15.13C92.7786 16.3313 93.1186 17.6913 93.1186 19.21C93.1186 20.7287 92.7786 22.1 92.0986 23.324C91.4412 24.5253 90.4892 25.4773 89.2426 26.18C87.9959 26.8827 86.4999 27.234 84.7546 27.234C83.1226 27.234 81.6606 26.9167 80.3686 26.282C79.0992 25.6473 78.1019 24.7293 77.3766 23.528C76.6512 22.3267 76.2886 20.8873 76.2886 19.21ZM81.0826 19.244C81.0826 20.0147 81.2412 20.7173 81.5586 21.352C81.8759 21.964 82.3066 22.4513 82.8506 22.814C83.3946 23.1767 84.0066 23.358 84.6866 23.358C85.4346 23.358 86.0806 23.1767 86.6246 22.814C87.1686 22.4513 87.5879 21.964 87.8826 21.352C88.1772 20.7173 88.3246 20.0147 88.3246 19.244C88.3246 18.4507 88.1772 17.748 87.8826 17.136C87.5879 16.524 87.1686 16.0367 86.6246 15.674C86.0806 15.3113 85.4346 15.13 84.6866 15.13C84.0066 15.13 83.3946 15.3113 82.8506 15.674C82.3066 16.0367 81.8759 16.524 81.5586 17.136C81.2412 17.748 81.0826 18.4507 81.0826 19.244Z"
                fill="#0D0E43"
              />
            </svg>
          </div>

          <ul>
            <li>
              <Link href="/home">Home</Link>
            </li>
            <li>
              <Link href="/products">Products</Link>
            </li>
            <li>
              <Link href="/blog">Blog</Link>
            </li>
            <li>
              <Link href="/contact">Contact</Link>
            </li>
            <li>
              <Link href="/contact" className="flex">
                Login
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 16 16"
                  fill="inherit"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8 2C8.49445 2 8.9778 2.14662 9.38893 2.42133C9.80005 2.69603 10.1205 3.08648 10.3097 3.54329C10.4989 4.00011 10.5484 4.50277 10.452 4.98773C10.3555 5.47268 10.1174 5.91814 9.76777 6.26777C9.41814 6.6174 8.97268 6.8555 8.48773 6.95196C8.00278 7.04843 7.50011 6.99892 7.04329 6.8097C6.58648 6.62048 6.19603 6.30005 5.92133 5.88893C5.64662 5.4778 5.5 4.99445 5.5 4.5C5.5 3.83696 5.76339 3.20107 6.23223 2.73223C6.70108 2.26339 7.33696 2 8 2ZM8 1C7.30777 1 6.63108 1.20527 6.05551 1.58986C5.47993 1.97444 5.03133 2.52107 4.76642 3.16061C4.50152 3.80015 4.4322 4.50388 4.56725 5.18282C4.7023 5.86175 5.03564 6.48539 5.52513 6.97487C6.01461 7.46436 6.63825 7.7977 7.31719 7.93275C7.99612 8.0678 8.69985 7.99848 9.33939 7.73358C9.97893 7.46867 10.5256 7.02007 10.9101 6.4445C11.2947 5.86892 11.5 5.19223 11.5 4.5C11.5 3.57174 11.1313 2.6815 10.4749 2.02513C9.8185 1.36875 8.92826 1 8 1Z"
                    fill="inherit"
                  />
                  <path
                    d="M13 15H12V12.5C12 12.1717 11.9353 11.8466 11.8097 11.5433C11.6841 11.24 11.4999 10.9644 11.2678 10.7322C11.0356 10.5001 10.76 10.3159 10.4567 10.1903C10.1534 10.0647 9.8283 10 9.5 10H6.5C5.83696 10 5.20107 10.2634 4.73223 10.7322C4.26339 11.2011 4 11.837 4 12.5V15H3V12.5C3 11.5717 3.36875 10.6815 4.02513 10.0251C4.6815 9.36875 5.57174 9 6.5 9H9.5C10.4283 9 11.3185 9.36875 11.9749 10.0251C12.6313 10.6815 13 11.5717 13 12.5V15Z"
                    fill="inherit"
                  />
                </svg>
              </Link>
            </li>
            <li>
              <Link href="/contact" className="flex">
                Wishlist
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 16 16"
                  fill="inherit"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.7141 3.30182C12.9713 2.55413 11.9865 2.09955 10.9387 2.02074C9.89102 1.94192 8.84997 2.24411 8.00494 2.87236C7.11474 2.20608 6.00672 1.90396 4.90401 2.02683C3.80131 2.1497 2.78582 2.68844 2.06205 3.53456C1.33828 4.38068 0.959991 5.47133 1.00336 6.58688C1.04672 7.70243 1.50852 8.76001 2.29576 9.54665L7.50818 14.7917C7.57323 14.8577 7.65061 14.9101 7.73587 14.9459C7.82113 14.9816 7.91257 15 8.00494 15C8.0973 15 8.18875 14.9816 8.27401 14.9459C8.35927 14.9101 8.43665 14.8577 8.50169 14.7917L13.7141 9.54665C14.1218 9.13671 14.4452 8.64995 14.6658 8.11419C14.8864 7.57843 15 7.00418 15 6.42424C15 5.8443 14.8864 5.27004 14.6658 4.73428C14.4452 4.19852 14.1218 3.71177 13.7141 3.30182ZM12.7276 8.55396L8.00494 13.2992L3.28227 8.55396C2.8661 8.13343 2.5826 7.59861 2.46733 7.01657C2.35207 6.43454 2.41017 5.83121 2.63436 5.28228C2.85854 4.73335 3.23882 4.26325 3.72749 3.93097C4.21616 3.59868 4.79147 3.419 5.38123 3.41447C6.16912 3.41641 6.92404 3.73293 7.4802 4.29452C7.54524 4.3605 7.62262 4.41288 7.70788 4.44862C7.79314 4.48437 7.88459 4.50277 7.97695 4.50277C8.06931 4.50277 8.16076 4.48437 8.24602 4.44862C8.33128 4.41288 8.40866 4.3605 8.47371 4.29452C9.04625 3.79527 9.7859 3.53355 10.543 3.56233C11.3 3.59111 12.0179 3.90824 12.5514 4.44954C13.0849 4.99083 13.3941 5.71586 13.4164 6.47788C13.4387 7.23989 13.1725 7.98199 12.6716 8.55396H12.7276Z"
                    fill="inherit"
                  />
                </svg>
              </Link>
            </li>
            <li>
              <Link href="/cart" className="flex">
                Cart
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 16 16"
                  fill="inherit"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M0.999023 1.5991C0.999023 1.43995 1.06225 1.28732 1.17478 1.17478C1.28732 1.06225 1.43995 0.999023 1.5991 0.999023H2.04556C2.80566 0.999023 3.26172 1.51029 3.52175 1.98555C3.69538 2.30239 3.82099 2.66964 3.91941 3.00249C3.94602 3.00038 3.97271 2.99932 3.99942 2.99929H13.9991C14.6632 2.99929 15.1433 3.63457 14.9608 4.27385L13.4983 9.40172C13.3671 9.86167 13.0897 10.2664 12.708 10.5545C12.3263 10.8427 11.8611 10.9986 11.3828 10.9987H6.62376C6.14169 10.9988 5.67296 10.8405 5.2896 10.5482C4.90625 10.2559 4.6295 9.84579 4.50188 9.38092L3.8938 7.16303L2.88567 3.76419L2.88487 3.75778C2.76005 3.30413 2.64324 2.87927 2.46882 2.56243C2.30159 2.25439 2.16718 2.19918 2.04636 2.19918H1.5991C1.43995 2.19918 1.28732 2.13596 1.17478 2.02342C1.06225 1.91089 0.999023 1.75825 0.999023 1.5991ZM5.05795 6.87179L5.65883 9.06328C5.77885 9.49694 6.1733 9.79857 6.62376 9.79857H11.3828C11.6002 9.79857 11.8116 9.72773 11.9852 9.59679C12.1587 9.46585 12.2849 9.28193 12.3445 9.07288L13.7343 4.19944H4.26745L5.04675 6.82939L5.05795 6.87179Z" />
                  <path d="M7.80003 13.4007C7.80003 13.8251 7.63143 14.2322 7.33134 14.5323C7.03124 14.8324 6.62422 15.001 6.19982 15.001C5.77542 15.001 5.3684 14.8324 5.0683 14.5323C4.7682 14.2322 4.59961 13.8251 4.59961 13.4007C4.59961 12.9763 4.7682 12.5693 5.0683 12.2692C5.3684 11.9691 5.77542 11.8005 6.19982 11.8005C6.62422 11.8005 7.03124 11.9691 7.33134 12.2692C7.63143 12.5693 7.80003 12.9763 7.80003 13.4007ZM6.59987 13.4007C6.59987 13.2946 6.55772 13.1929 6.4827 13.1179C6.40767 13.0428 6.30592 13.0007 6.19982 13.0007C6.09372 13.0007 5.99196 13.0428 5.91694 13.1179C5.84191 13.1929 5.79977 13.2946 5.79977 13.4007C5.79977 13.5068 5.84191 13.6086 5.91694 13.6836C5.99196 13.7587 6.09372 13.8008 6.19982 13.8008C6.30592 13.8008 6.40767 13.7587 6.4827 13.6836C6.55772 13.6086 6.59987 13.5068 6.59987 13.4007Z" />
                  <path d="M13.4006 13.4007C13.4006 13.8251 13.232 14.2322 12.9319 14.5323C12.6318 14.8324 12.2248 15.001 11.8004 15.001C11.376 15.001 10.969 14.8324 10.6689 14.5323C10.3688 14.2322 10.2002 13.8251 10.2002 13.4007C10.2002 12.9763 10.3688 12.5693 10.6689 12.2692C10.969 11.9691 11.376 11.8005 11.8004 11.8005C12.2248 11.8005 12.6318 11.9691 12.9319 12.2692C13.232 12.5693 13.4006 12.9763 13.4006 13.4007ZM12.2005 13.4007C12.2005 13.2946 12.1583 13.1929 12.0833 13.1179C12.0083 13.0428 11.9065 13.0007 11.8004 13.0007C11.6943 13.0007 11.5925 13.0428 11.5175 13.1179C11.4425 13.1929 11.4004 13.2946 11.4004 13.4007C11.4004 13.5068 11.4425 13.6086 11.5175 13.6836C11.5925 13.7587 11.6943 13.8008 11.8004 13.8008C11.9065 13.8008 12.0083 13.7587 12.0833 13.6836C12.1583 13.6086 12.2005 13.5068 12.2005 13.4007Z" />
                </svg>
              </Link>
            </li>
          </ul>
        </aside>
      </div>
    </div>
  );
}
